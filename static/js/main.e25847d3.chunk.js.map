{"version":3,"sources":["img/maze_test.jpg","img/chord_test.jpg","content.js","img/me.jpg","index.js"],"names":["info","img","img_alt","title","paragraphs","cards","id","maze_test","description","chord_test","Card","props","cardElement","React","createRef","waitingForFrame","noDraw","mouseOutWaiting","mouseOutTimeout","this","resizeObserver","observe","current","unobserve","window","setTimeout","style","transform","onMouseOut","console","log","clearTimeout","onMouseOver","e","requestAnimationFrame","renderTiltFrame","tiltX","nativeEvent","offsetX","width","tiltY","offsetY","height","className","ref","onMouseMove","fontSize","src","content","alt","Component","Projects","cardStates","hovered","state","ResizeObserver","entries","handleCardResize","isOver","setState","entry","currentCardState","target","borderBoxSize","inlineSize","blockSize","contentRect","projHasHover","Object","values","reduce","a","card","cardState","push","handleCardHover","Info","forEach","p","i","Page","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e25847d3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/maze_test.f5114909.jpg\";","export default __webpack_public_path__ + \"static/media/chord_test.ccc68718.jpg\";","import maze_test from \"./img/maze_test.jpg\";\r\nimport chord_test from \"./img/chord_test.jpg\";\r\nimport me from \"./img/me.jpg\";\r\n\r\nexport const info = {\r\n\timg: me,\r\n\timg_alt: \"A photo of me!\",\r\n\ttitle: \"Cameron Fraser\",\r\n\tparagraphs: [\r\n\t\t\"Hi! I'm Cameron. I've been programming for 10ish years in all sorts of languages.\",\r\n\t\t\"Sometimes I make things for the web. Here are some things I've made for the web.\"\r\n\t]\r\n}\r\n\r\nexport const cards = [\r\n\t{\r\n\t\tid: \"Anagram\",\r\n\t\ttitle: \"Anagram\",\r\n\t\timg: maze_test,\r\n\t\timg_alt: \"A picture of a hedge maze, from above.\",\r\n\t\tdescription: \"This is a much more current project: to see how easy I could make writing two anagrammed sentences. It's not much at the moment, but I'm actively adding to it. (Dictionary coming soon!)\"\r\n\t},\r\n\t{\r\n\t\tid: \"MazeGenerator\",\r\n\t\ttitle: \"Maze Generator\",\r\n\t\timg: maze_test,\r\n\t\timg_alt: \"A picture of a hedge maze\",\r\n\t\tdescription: \"Things and stuff.\"\r\n\t},\r\n\t{\r\n\t\tid: \"Chords\",\r\n\t\ttitle: \"Chords\",\r\n\t\timg: chord_test,\r\n\t\timg_alt: \"Close-up picture of a piano keyboard\",\r\n\t\tdescription: \"More things, more stuff!\"\r\n\t},\r\n\t{\r\n\t\tid: \"Foo\",\r\n\t\ttitle: \"Foo\",\r\n\t\timg: chord_test,\r\n\t\timg_alt: \"Close-up picture of a piano keyboard\",\r\n\t\tdescription: \"More things, more stuff!\"\r\n\t}\r\n];","export default __webpack_public_path__ + \"static/media/me.af32898c.jpg\";","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport * as content from \"./content.js\";\r\n\r\nconst MAX_CARD_TILT = 4.5;\r\nconst CARD_SCALE_FACTOR = 1.06;\r\n\r\nclass Card extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.cardElement = React.createRef();\r\n\t\tthis.waitingForFrame = false;\r\n\t\tthis.noDraw = false;\r\n\t\tthis.mouseOutWaiting = false;\r\n\t\tthis.mouseOutTimeout = 0;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.resizeObserver.observe(this.cardElement.current);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.props.resizeObserver.unobserve(this.cardElement.current);\r\n\t}\r\n\r\n\tonMouseOut() {\r\n\t\t//mouseout/mouseover may both fire when mouse moves between children;\r\n\t\t//mouseOutWaiting and mouseOutTimeout clear out false positives\r\n\t\tthis.mouseOutWaiting = true;\r\n\t\tthis.mouseOutTimeout = window.setTimeout(() => {\r\n\t\t\tthis.cardElement.current.style.transform = \"rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1)\";\r\n\t\t\tthis.mouseOutWaiting = false;\r\n\t\t\t//Pause drawing briefly after mouseout, to avoid stray frames\r\n\t\t\t//\"sticking\" element in transformed state\r\n\t\t\tthis.noDraw = true;\r\n\t\t\twindow.setTimeout(() => { this.noDraw = false }, 50);\r\n\t\t\tthis.props.onMouseOut();\r\n\t\t}, 10);\r\n\t}\r\n\r\n\tonMouseOver() {\r\n\t\tif (this.mouseOutWaiting) {\r\n\t\t\t//False positive; halt waiting mouseout handler\r\n\t\t\tconsole.log(\"Prevented mouseout\");\r\n\t\t\twindow.clearTimeout(this.mouseOutTimeout);\r\n\t\t\tthis.mouseOutWaiting = false;\r\n\t\t} else {\r\n\t\t\tthis.props.onMouseOver();\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseMove(e) {\r\n\t\tif(!this.waitingForFrame) {\r\n\t\t\twindow.requestAnimationFrame(() => this.renderTiltFrame(e));\r\n\t\t\tthis.waitingForFrame = true;\r\n\t\t}\r\n\t}\r\n\r\n\trenderTiltFrame(e) {\r\n\t\tif(!this.noDraw) {\r\n\t\t\tlet tiltX = (e.nativeEvent.offsetX * 2 / this.props.width - 1) * MAX_CARD_TILT;\r\n\t\t\tlet tiltY = (e.nativeEvent.offsetY * 2 / this.props.height - 1) * -MAX_CARD_TILT;\r\n\t\t\tthis.cardElement.current.style.transform = `rotateY(${tiltX}deg) rotateX(${tiltY}deg) rotateZ(0deg) scale(${CARD_SCALE_FACTOR})`;\r\n\t\t}\r\n\t\tthis.waitingForFrame = false;\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"card_container\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"card\"\r\n\t\t\t\t\tid={this.props.id}\r\n\t\t\t\t\tref={this.cardElement}\r\n\t\t\t\t\tonMouseOver={e => this.onMouseOver(e)}\r\n\t\t\t\t\tonMouseOut={e => this.onMouseOut(e)}\r\n\t\t\t\t\tonMouseMove={e => this.onMouseMove(e)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"card-content\" style={{fontSize: this.props.width / 24}}>\r\n\t\t\t\t\t\t<div className=\"card-content-image\">\r\n\t\t\t\t\t\t\t<img src={this.props.content.img} alt={this.props.content.img_alt} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-content-title\">{this.props.content.title}</div>\r\n\t\t\t\t\t\t<div className=\"card-content-description\">{this.props.content.description}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n/////////////////////////////////////////////////\r\n\r\nclass Projects extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tlet cardStates = {};\r\n\t\tfor(const card of this.props.cards) {\r\n\t\t\tcardStates[card.id] = {\r\n\t\t\t\thovered: false,\r\n\t\t\t\twidth: 0,\r\n\t\t\t\theight: 0\r\n\t\t\t};\r\n\t\t}\r\n\t\tthis.state = {cardStates};\r\n\t\tthis.resizeObserver = new ResizeObserver(entries => this.handleCardResize(entries));\r\n\t}\r\n\r\n\thandleCardHover(id, isOver) {\r\n\t\tlet cardStates = {...this.state.cardStates};\r\n\t\tcardStates[id].hovered = isOver;\r\n\t\tthis.setState({cardStates});\r\n\t}\r\n\r\n\thandleCardResize(entries) {\r\n\t\tlet cardStates = {...this.state.cardStates};\r\n\t\tfor(const entry of entries) {\r\n\t\t\tlet currentCardState = cardStates[entry.target.id];\r\n\t\t\tif(entry.borderBoxSize) {\r\n\t\t\t\tcurrentCardState.width = entry.borderBoxSize[0].inlineSize;\r\n\t\t\t\tcurrentCardState.height = entry.borderBoxSize[0].blockSize;\r\n\t\t\t} else {\r\n\t\t\t\tcurrentCardState.width = entry.contentRect.width;\r\n\t\t\t\tcurrentCardState.height = entry.contentRect.height;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState({cardStates});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst projHasHover = Object.values(this.state.cardStates).reduce((a, {hovered}) => a || hovered, false);\r\n\t\tlet cards = [];\r\n\r\n\t\tfor(const card of this.props.cards) {\r\n\t\t\tconst cardState = this.state.cardStates[card.id];\r\n\t\t\tcards.push(<Card\r\n\t\t\t\tkey={card.id}\r\n\t\t\t\tid={card.id}\r\n\t\t\t\twidth={cardState.width}\r\n\t\t\t\theight={cardState.height}\r\n\t\t\t\tonMouseOver={() => this.handleCardHover(card.id, true)}\r\n\t\t\t\tonMouseOut={() => this.handleCardHover(card.id, false)}\r\n\t\t\t\t//TODO: passing this reference feels inelegant. Fix?\r\n\t\t\t\tresizeObserver={this.resizeObserver}\r\n\t\t\t\tcontent={card}\r\n\t\t\t/>);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"projectCol\">\r\n\t\t\t\t<div className=\"projectCol-inner\">\r\n\t\t\t\t\t<div className={`projectCol-filter${projHasHover ? \" filter-on\" : \"\"}`} />\r\n\t\t\t\t\t<div className=\"projectCol-cards\">\r\n\t\t\t\t\t\t{cards}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction Info(props) {\r\n\tlet paragraphs = [];\r\n\tprops.content.paragraphs.forEach((p, i) => {\r\n\t\tparagraphs.push(<p className=\"infoCol-body infoCol-inmargin\" key={\"paragraph\"+i}>{p}</p>);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className=\"infoCol\">\r\n\t\t\t<div>\r\n\t\t\t\t<img className=\"infoCol-image infoCol-inmargin\" src={props.content.img} alt={props.content.img_alt}></img>\r\n\t\t\t\t<div className=\"infoCol-title\">{props.content.title}</div>\r\n\t\t\t\t{paragraphs}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Page(props) {\r\n\treturn (\r\n\t\t<div className=\"page_container\">\r\n\t\t\t<Info content={content.info} />\r\n\t\t\t<Projects cards={content.cards} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nReactDOM.render(<Page />, document.getElementById(\"root\"));"],"sourceRoot":""}